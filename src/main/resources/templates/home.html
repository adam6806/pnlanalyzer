<!doctype html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <script src="/webjars/font-awesome/js/all.js"></script>
    <script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <title>PNL Analyzer</title>
    <link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/webjars/font-awesome/css/all.css"/>
    <link rel="stylesheet" href="/webjars/datatables/1.10.19/css/dataTables.bootstrap4.min.css"/>

    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/template.css}"/>
</head>

<body>
<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/home">PNL Analyzer</a>
    <div class="ml-auto mr-3 navbar-light">
        <span class="nav-item nav-text mr-3 navbar-text" sec:authentication="name"></span>
        <a class="nav-item nav-text navbar-text" href="/logout">Logout</a>
    </div>
</nav>

<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky">
                <ul class="nav flex-column">
                    <li sec:authorize="hasAuthority('ROLE_USER')" class="nav-item">
                        <a class="nav-link" href="/company">
                            <i class="fa fa-building"></i>
                            Companies
                        </a>
                    </li>
                    <li sec:authorize="hasAuthority('ROLE_USER')" class="nav-item">
                        <a class="nav-link" href="/pnl">
                            <i class="fa fa-file"></i>
                            PNLs
                        </a>
                    </li>
                    <li sec:authorize="hasAuthority('ROLE_ADMIN')" class="nav-item">
                        <a class="nav-link" href="/admin/usermanagement">
                            <i class="fa fa-user"></i>
                            User Management
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
            <div class="align-items-center mt-4">
                <section layout:fragment="content">
                    <h1 class="h2 border-bottom">PNL Analyzer</h1>
                    <p class="mt-3">Welcome to the PNL Analyzer! Here you can add Companies. You can then upload PNL
                        Files for those companies. Once you've added these PNL files you can perform calculations based
                        on that data.</p>
                    <div sec:authorize="hasAuthority('ROLE_ADMIN')">
                        This content is only shown to administrators.
                        <a href="/admin/home">Admin Home</a>
                    </div>
                    <div sec:authorize="!hasAuthority('ROLE_USER')">
                        <span class="text-danger">Currently you are signed in as a guest. Please contact an administrator for access.</span>
                    </div>
                </section>
            </div>
        </main>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.init-datatable').DataTable();
    });
</script>
</body>
</html>
