<!doctype html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="/webjars/bootstrap/4.1.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/webjars/datatables/1.10.19/css/dataTables.bootstrap4.min.css"/>
    <link rel="stylesheet" href="/webjars/datatables-responsive/2.2.1/css/responsive.bootstrap4.scss"/>
    <link rel="stylesheet" href="/webjars/font-awesome/5.2.0/css/all.css"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap-select.min.css}">

    <script src="/webjars/jquery/3.3.1-1/jquery.min.js"></script>
    <script src="/webjars/bootstrap/4.1.0/js/bootstrap.bundle.min.js"></script>
    <script src="/webjars/font-awesome/5.2.0/js/all.js"></script>
    <script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <script src="/webjars/datatables-responsive/2.2.1/js/dataTables.responsive.js"></script>
    <script src="/webjars/datatables-responsive/2.2.1/js/responsive.bootstrap4.js"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap-select.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootbox.js}"></script>

    <title>PNL Analyzer</title>

</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/home">PNL Analyzer</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
            data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false"
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarToggler">
        <ul class="navbar-nav  mr-auto">
            <li sec:authorize="hasAuthority('ROLE_USER')" class="nav-item">
                <a class="nav-link" href="/company">
                    <i class="fa fa-building"></i>
                    Companies
                </a>
            </li>
            <li sec:authorize="hasAuthority('ROLE_USER')" class="nav-item">
                <a class="nav-link" href="/trialbalancereport">
                    <i class="fa fa-file-invoice-dollar"></i>
                    Trial Balance Reports
                </a>
            </li>
            <li sec:authorize="hasAuthority('ROLE_ADMIN')" class="nav-item">
                <a class="nav-link" href="/admin/usermanagement">
                    <i class="fa fa-users"></i>
                    User Management
                </a>
            </li>
            <li sec:authorize="hasAuthority('ROLE_ADMIN')" class="nav-item">
                <a class="nav-link" href="/admin/invite">
                    <i class="fa fa-envelope"></i>
                    Invites
                </a>
            </li>
        </ul>
        <div sec:authorize="isAuthenticated()" class="ml-auto mr-3 navbar-light">
            <a class="nav-item nav-text mr-3 navbar-text" href="/profile" sec:authentication="name"></a>
            <a class="nav-item nav-text navbar-text" href="/logout">Logout</a>
        </div>
    </div>

</nav>

<div class="container-fluid">
    <div class="row">
        <main role="main" class="mx-auto col-lg-8 col-md-10 col-sm-12">
            <div class="align-items-center mt-4">
                <!--/*@thymesVar id="errorMessage" type=""*/-->
                <div th:if="${errorMessage}" class="alert alert-danger top-message" role="alert"
                     th:text="${errorMessage}"></div>
                <!--/*@thymesVar id="successMessage" type=""*/-->
                <div th:if="${successMessage}" class="alert alert-success top-message" role="alert"
                     th:text="${successMessage}"></div>
                <section layout:fragment="content">
                    <h1 class="h2 border-bottom text-center">PNL Analyzer</h1>
                    <p class="mt-3 text-center">Welcome to the PNL Analyzer! Here you can add Companies. You can then upload Trial Balance Report Files for those companies. Once
                        you've added these TBR files you can then create Journal Entries based on a current and previous TBR. You can then export these Journal Entries to a
                        Quickbooks IIF File for import.</p>
                    <div class="text-center" sec:authorize="hasAuthority('ROLE_ADMIN')">
                        This content is only shown to administrators.
                        <a href="/admin/home">Admin Home</a>
                    </div>
                    <div sec:authorize="!hasAuthority('ROLE_USER')">
                        <span class="text-danger">Currently you are signed in as a guest. Please contact an administrator for access.</span>
                    </div>
                </section>
            </div>
        </main>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.init-datatable').DataTable({
            responsive: true
        });
        $(document).ready(function () {
            setTimeout(function () {
                $(".top-message").fadeOut("slow");
            }, 5000);
        });
    });
</script>
</body>
</html>
